<div class="card">
  <div class="card-body" >
    <div class="d-flex">
      <div class="me-2">
        <h3 class="card-title mb-4">{{pageTitle}}</h3>
      </div>
    </div>
    <mat-form-field>
      <mat-label style="font-size:12px">查询</mat-label>
      <input matInput (keyup)="applyFilter($event)" placeholder="全文搜索" #input>
    </mat-form-field>
    <div class="example-container">
      <table class="mat-elevation-z8" id="chart_table_template" mat-table [dataSource]="dataSource" matSort matSortActive="ratio" matSortDirection="desc">
        <ng-container matColumnDef="name" sticky>
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title"> 标的 </th>
          <td mat-cell *matCellDef="let row" title={{row.name}} class="table-td">
             <span class="table-row">{{row.name_title}}<br/><span class="table-row-10">{{row.code_title}} </span></span>
          </td>
        </ng-container>
        
        <!-- <ng-container matColumnDef="code">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title"> 代码 </th>
          <td mat-cell *matCellDef="let row" title={{row.code}}> <span class="table-row">{{row.code_title}}</span> </td>
        </ng-container> -->
        
        <ng-container matColumnDef="add_price">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-2"> 关注价格 </th>
          <td mat-cell *matCellDef="let row" class="table-td"> <span class="table-row-price">{{row.add_price}}</span> </td>
        </ng-container>

        <ng-container matColumnDef="end">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-2"> 最新价 </th>
          <td mat-cell *matCellDef="let row" [style.color]="row.color"> <span class="table-row-price">{{row.end?''+row.end:' - -    - - '}}</span> </td>
        </ng-container>

        <ng-container matColumnDef="in_price">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-2"> 买入成本 </th>
          <td mat-cell *matCellDef="let row" [style.color]="row.color"> <span class="table-row-price">{{row.in_price?''+row.in_price:' - -    - - '}}</span> </td>
        </ng-container>

        <ng-container matColumnDef="price">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-2"> 最新价格 </th>
          <td mat-cell *matCellDef="let row" [style.color]="row.color"> <span class="table-row-price">{{row.price}}</span> </td>
        </ng-container>

        <ng-container matColumnDef="ratio">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-2"> 涨幅 </th>
          <td mat-cell *matCellDef="let row"  [style.color]="row.color"> <span class="table-row-price">{{row.ratio}}% </span></td>
        </ng-container>

        <ng-container matColumnDef="in_time">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-3"> 买入日期 </th>
          <td mat-cell *matCellDef="let row"> <span class="table-row">{{row.in_time ? row.in_time : ' - -    - - '}}</span> </td>
        </ng-container>

        <ng-container matColumnDef="add_date">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-3"> 关注日期 </th>
          <td mat-cell *matCellDef="let row"> <span class="table-row">{{row.add_date}}</span> </td>
        </ng-container>

        <ng-container matColumnDef="mod_date">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-3"> 更新日期 </th>
          <td mat-cell *matCellDef="let row"> <span class="table-row">{{row.mod_date}}</span> </td>
        </ng-container>

        <ng-container matColumnDef="basic_section_industry">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-3"> 行业 </th>
          <td mat-cell *matCellDef="let row"  > <span class="table-row">{{row.basic_section_industry}}</span> </td>
        </ng-container>

        <ng-container matColumnDef="basic_section_region">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-2"> 地区 </th>
          <td mat-cell *matCellDef="let row"  > <span class="table-row">{{row.basic_section_region}}</span> </td>
        </ng-container>

        <ng-container matColumnDef="ratio_down_min_15">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-2"> 超跌15 </th>
          <td mat-cell *matCellDef="let row"  > <span class="table-row">{{row.ratio_down_min_15}}</span> </td>
        </ng-container>

        <ng-container matColumnDef="ratio_down_min_60">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-2"> 超跌60分 </th>
          <td mat-cell *matCellDef="let row"  > <span class="table-row">{{row.ratio_down_min_60}}</span> </td>
        </ng-container>

        <ng-container matColumnDef="ratio_down_day">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-2"> 超跌日 </th>
          <td mat-cell *matCellDef="let row"  > <span class="table-row">{{row.ratio_down_day}}</span> </td>
        </ng-container>

        <ng-container matColumnDef="ratio_down_week">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-2"> 超跌周 </th>
          <td mat-cell *matCellDef="let row"  > <span class="table-row">{{row.ratio_down_week}}</span> </td>
        </ng-container>

        <ng-container matColumnDef="ratio_down_month">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-2"> 超跌月 </th>
          <td mat-cell *matCellDef="let row"  > <span class="table-row">{{row.ratio_down_month}}</span> </td>
        </ng-container>

        <ng-container matColumnDef="avg_line_level_min_15">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-3"> 强级别15分 </th>
          <td mat-cell *matCellDef="let row"  > <span class="table-row">{{row.avg_line_level_min_15}}</span> </td>
        </ng-container>

        <ng-container matColumnDef="avg_line_level_min_60">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-3"> 强级别60分 </th>
          <td mat-cell *matCellDef="let row"  > <span class="table-row">{{row.avg_line_level_min_60}}</span> </td>
        </ng-container>

        <ng-container matColumnDef="avg_line_level_day">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-2"> 强级别日 </th>
          <td mat-cell *matCellDef="let row"  > <span class="table-row">{{row.avg_line_level_day}}</span> </td>
        </ng-container>

        <ng-container matColumnDef="avg_line_level_week">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-2"> 强级别周 </th>
          <td mat-cell *matCellDef="let row"  > <span class="table-row">{{row.avg_line_level_week}}</span> </td>
        </ng-container>

        <ng-container matColumnDef="avg_line_level_month">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-2"> 强级别月 </th>
          <td mat-cell *matCellDef="let row" style="width:190px" > <span class="table-row">{{row.avg_line_level_month}}</span> </td>
        </ng-container>

        <ng-container matColumnDef="bull_alignment_min_15">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-3"> 强势15分 </th>
          <td mat-cell *matCellDef="let row"  > <span class="table-row">{{row.bull_alignment_min_15}}</span> </td>
        </ng-container>

        <ng-container matColumnDef="bull_alignment_min_60">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-3"> 强势60分 </th>
          <td mat-cell *matCellDef="let row"  > <span class="table-row">{{row.bull_alignment_min_60}}</span> </td>
        </ng-container>

        <ng-container matColumnDef="bull_alignment_day">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-2"> 强势日 </th>
          <td mat-cell *matCellDef="let row"  > <span class="table-row">{{row.bull_alignment_day}}</span> </td>
        </ng-container>

        <ng-container matColumnDef="bull_alignment_week">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-2"> 强势周 </th>
          <td mat-cell *matCellDef="let row"  > <span class="table-row">{{row.bull_alignment_week}}</span> </td>
        </ng-container>

        <ng-container matColumnDef="bull_alignment_month">
          <th mat-header-cell *matHeaderCellDef mat-sort-header class="table-title-2"> 强势月 </th>
          <td mat-cell *matCellDef="let row" > <span class="table-row">{{row.bull_alignment_month}}</span> </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row 
          (dblclick)="selectRow(row.code)"
          [class.demo-row-is-clicked]="clickedRows.has(row)"
          *matRowDef="let row; columns: displayedColumns;"></tr>
    
        <!-- Row shown when there is no matching data. -->
        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="4">无数据可以查询 "{{input.value}}"</td>
        </tr>
      </table>
    </div>
    <mat-paginator  [pageSizeOptions]="[ 13, 20, 100]" aria-label="选择页面记录数" ></mat-paginator>
  </div>
</div>